import base64

# please don't decode this program. It's a violation of the honor code.
code="CmltcG9ydCBweW1vbmdvCmltcG9ydCByYW5kb20KaW1wb3J0IHJlCmltcG9ydCBzdHJpbmcKaW1wb3J0IHN5cwppbXBvcnQgZ2V0b3B0CmltcG9ydCBwcHJpbnQKCiMgQ29weXJpZ2h0IDIwMTIKIyAxMGdlbiwgSW5jLgojIEF1dGhvcjogQW5kcmV3IEVybGljaHNvbiAgIGFqZUAxMGdlbi5jb20KIwojIElmIHlvdSBhcmUgYSBzdHVkZW50IGFuZCByZWFkaW5nIHRoaXMgY29kZSwgdHVybiBiYWNrIG5vdywgYmVmb3JlCiMgdGhlIE1vbmdvREIgZ29kcyBzbWl0ZSB5b3UuCgpjb25uZWN0aW9uID0gTm9uZQpkYiA9IE5vbmUKbW9uZ29zdHIgPSAibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIKZGJfbmFtZSA9ICJlbnJvbiIKCiMgdGhpcyBzY3JpcHQgd2lsbCBjaGVjayB0byBzZWUgaWYgeW91IGRpZCB0aGUgdXBkYXRlIGNvcnJlY3RseS4KCiMgY29tbWFuZCBsaW5lIGFyZyBwYXJzaW5nIHRvIG1ha2UgZm9sa3MgaGFwcHkgd2hvIHdhbnQgdG8gcnVuIGF0IG1vbmdvbGFicyBvciBtb25nb2hxCiMgdGhpcyBmdW5jdGlvbnMgdXNlcyBnbG9iYWwgdmFycyB0byBjb21tdW5pY2F0ZS4gZm9yZ2l2ZSBtZS4KZGVmIGFyZ19wYXJzaW5nKGFyZ3YpOgoKICAgIGdsb2JhbCB3ZWJob3N0CiAgICBnbG9iYWwgbW9uZ29zdHIKICAgIGdsb2JhbCBkYl9uYW1lCgogICAgdHJ5OgogICAgICAgIG9wdHMsIGFyZ3MgPSBnZXRvcHQuZ2V0b3B0KGFyZ3YsICItcDotbTotZDoiKQogICAgZXhjZXB0IGdldG9wdC5HZXRvcHRFcnJvcjoKICAgICAgICBwcmludCAidXNhZ2UgdmFsaWRhdGUucHkgLW0gbW9uZ29Db25uZWN0U3RyaW5nIgogICAgICAgIHByaW50ICJcdG1vbmdvQ29ubmVjdGlvblN0cmluZyBkZWZhdWx0IHRvIHswfSIuZm9ybWF0KG1vbmdvc3RyKQogICAgICAgIHByaW50ICJcdGRhdGFiYXNlTmFtZSBkZWZhdWx0cyB0byB7MH0iLmZvcm1hdChkYl9uYW1lKQogICAgICAgIHN5cy5leGl0KDIpCiAgICBmb3Igb3B0LCBhcmcgaW4gb3B0czoKICAgICAgICBpZiAob3B0ID09ICctaCcpOgogICAgICAgICAgICBwcmludCAidXNhZ2UgdmFsaWRhdGUucHkgLW0gbW9uZ29Db25uZWN0U3RyaW5nIC1kIGRhdGFiYXNlTmFtZSIKICAgICAgICAgICAgc3lzLmV4aXQoMikKICAgICAgICBlbGlmIG9wdCBpbiAoIi1tIik6CiAgICAgICAgICAgIG1vbmdvc3RyID0gYXJnCiAgICAgICAgICAgIHByaW50ICJPdmVycmlkaW5nIE1vbmdvREIgY29ubmVjdGlvbiBzdHJpbmcgdG8gYmUgIiwgbW9uZ29zdHIKICAgICAgICBlbGlmIG9wdCBpbiAoIi1kIik6CiAgICAgICAgICAgIGRiX25hbWUgPSBhcmcKICAgICAgICAgICAgcHJpbnQgIk92ZXJyaWRpbmcgTW9uZ29EQiBkYXRhYmFzZSB0byBiZSAiLCBkYl9uYW1lCgoKZGVmIGdyYWNlZnVsX2V4aXQoaSk6CiAgICBjb25uZWN0aW9uLmNsb3NlKCkKICAgIHN5cy5leGl0KGkpCgoKZGVmIGRvY3VtZW50X3VwZGF0ZWQoKToKICAgICMgd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IG9uZSBkb2Mgd2FzIHVwZGF0ZWQgYW5kIGl0IHdhcyB0aGUgcmlnaHQgb25lCiAgICBzZW50aW5hbCA9ICJtcnBvdGF0b2hlYWRAMTBnZW4uY29tIgogICAgbXNnX2lkID0gIjw4MTQ3MzA4LjEwNzU4NTEwNDIzMzUuSmF2YU1haWwuZXZhbnNAdGh5bWU+IgogICAgCiAgICBtZXNzYWdlcyA9IGRiLm1lc3NhZ2VzCgogICAgdHJ5OgogICAgICAgIGNvdW50ID0gbWVzc2FnZXMuZmluZCh7J2hlYWRlcnMuVG8nOnNlbnRpbmFsfSkuY291bnQoKQogICAgZXhjZXB0OgogICAgICAgIHByaW50ICJDYW4ndCBxdWVyeSBNb25nby4gSXMgaXQgcnVubmluZz8iCiAgICAgICAgcmFpc2UKCiAgICBpZiAoY291bnQgPCAxKToKICAgICAgICBwcmludCAiU29ycnksIGJ1dCBJIGNvdWxkIG5vdCBmaW5kICIsIHNlbnRpbmFsLCAiIGluIHRoZSBoZWFkZXJzLlRvIGxpc3RzIjsKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBpZiAoY291bnQgPiAxKToKICAgICAgICBwcmludCAiU29ycnksIGJ1dCBJIGZvdW5kICIsIHNlbnRpbmFsLCAiIGluIG11bHRpcGxlIGRvY3VtZW50cy4gWW91IHNob3VsZCBwcm9iYWJseSByZS1pbXBvcnQgdGhlIGRhdGFzZXQuIjsKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAjIGNvdW50ID09IDEuLndlIG5lZWQgdG8gbWFrZSBzdXJlIGl0J3MgdGhlIHJpZ2h0IGRvY3VtZW50CiAgICBkb2MgID0gbWVzc2FnZXMuZmluZF9vbmUoeydoZWFkZXJzLlRvJzpzZW50aW5hbH0pCiAgICBpZiAoZG9jID09IE5vbmUpOgogICAgICAgIHByaW50ICJJIHRob3VnaHQgdGhlcmUgd2FzIGEgZG9jLCBhbmQgdGhlbiB0aGVyZSB3YXMgbm9uZS4gQXJlIHlvdSBtb2RpZmluZyB0aGUgZGF0YXNldCB3aGlsZSBJIGFtIHJ1bm5pbmc/IgoKICAgIGlmICgoJ2hlYWRlcnMnIG5vdCBpbiBkb2MgKSBvciAoJ01lc3NhZ2UtSUQnIG5vdCBpbiBkb2NbJ2hlYWRlcnMnXSkpOgogICAgICAgIHByaW50ICJEb2N1bWVudCBzdHJ1Y3R1cmUgaXMgbm90IGNvcnJlY3QuIgogICAgICAgIHBwID0gcHByaW50LlByZXR0eVByaW50ZXIoZGVwdGg9NikKICAgICAgICBwcC5wcHJpbnQoZG9jKQogICAgICAgIHJldHVybiBGYWxzZQogICAgCiAgICBpZiAoZG9jWydoZWFkZXJzJ11bJ01lc3NhZ2UtSUQnXSAhPSBtc2dfaWQpOgogICAgICAgIHByaW50ICJGb3VuZCBhIGRvY3VtZW50IHdpdGggIiwgc2VudGluYWwsICIgYnV0IHRoZSBNZXNzYWdlLUlEIGlzIG5vdCBjb3JyZWN0LiIKICAgICAgICBwcmludCAiTWVzc2FnZS1JRCBpcyAiLCBkb2NbJ2hlYWRlcnMnXVsnTWVzc2FnZS1JRCddCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgcmV0dXJuIFRydWUKCgojIG1haW4gc2VjdGlvbiBvZiB0aGUgY29kZQpkZWYgbWFpbihhcmd2KToKICAgICAgICAgICAgCiAgICBhcmdfcGFyc2luZyhhcmd2KQogICAgZ2xvYmFsIGNvbm5lY3Rpb24KICAgIGdsb2JhbCBkYgoKICAgIHByaW50ICJXZWxjb21lIHRvIHRoZSBGaW5hbCBFeGFtLCBQcm9ibGVtIDMgQ2hlY2tlci4gTXkgam9iIGlzIHRvIG1ha2Ugc3VyZSB5b3UgdXBkYXRlZCB0aGUgZG9jIGNvcnJlY3RseSIKCiAgICAjIGNvbm5lY3QgdG8gdGhlIGRiIChtb25nb3N0ciB3YXMgc2V0IGluIGFyZ19wYXJzaW5nKQogICAgdHJ5OgogICAgICAgIGNvbm5lY3Rpb24gPSBweW1vbmdvLkNvbm5lY3Rpb24obW9uZ29zdHIsIHNhZmU9VHJ1ZSkKICAgICAgICBkYiA9IGNvbm5lY3Rpb25bZGJfbmFtZV0KICAgIGV4Y2VwdDoKICAgICAgICBwcmludCAiY2FuJ3QgY29ubmVjdCB0byBNb25nb0RCIHVzaW5nIiwgbW9uZ29zdHIsICIuIElzIGl0IHJ1bm5pbmc/IgogICAgICAgIGV4aXQoMikgICAgICMgbm8gZ3JhY2VmdWwgZXhpdCBpZiBpdCBpcyBub3QgY29ubmVjdGVkCiAgICAgICAgCiAgICBpZiAobm90IGRvY3VtZW50X3VwZGF0ZWQoKSk6CiAgICAgICAgcHJpbnQgIlNvcnJ5LCB0aGUgdXBkYXRlIHdhcyBub3QgcGVyZm9ybWVkIGNvcnJlY3RseS4iCiAgICAgICAgZ3JhY2VmdWxfZXhpdCgxKQogICAgCiAgICAjIGlmIHlvdSBhcmUgcmVhZGluZyB0aGlzIGluIGNsZWFydGV4dCwgeW91IGFyZSB2aW9sYXRpbmcgdGhlIGhvbm9yIGNvZGUuCiAgICAjIFlvdSBjYW4gc3RpbGwgcmVkZWVtIHlvdXJzZWxmLiBHZXQgaXQgd29ya2luZyBhbmQgZG9uJ3Qgc3VibWl0IHRoZSB2YWxpZGF0aW9uIGNvZGUgdW50aWwgeW91IGRvLgogICAgIyBBbGwgYSBtYW4gaGFzIGF0IHRoZSBlbmQgb2YgdGhlIGRheSBpcyBoaXMgd29yZC4KICAgIHByaW50ICJUZXN0cyBQYXNzZWQgZm9yIEZpbmFsIDMuIFlvdXIgRmluYWwgMyB2YWxpZGF0aW9uIGNvZGUgaXMgODk3aDY3MjNnaGYyNWdkODdnaDI4IgogICAgZ3JhY2VmdWxfZXhpdCgwKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oc3lzLmFyZ3ZbMTpdKQoKCgoKCgoK"
eval(compile(base64.b64decode(code), "<string>", 'exec'))




